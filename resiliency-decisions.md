---

copyright:
  years: 2023
lastupdated: "2023-12-26"

subcollection: pattern-sap-on-powervs

keywords:

---

{{site.data.keyword.attribute-definition-list}}

# Architecture decisions for resiliency
{: #resiliency-decisions}

| **Architecture decision**| **Requirement**| **Decision** | **Rationale**|
|-|-|-|-|
High Availability SAP                  | Provide 99.95% availability for SAP                   |DB native replication: \n HANA System Replication (HSR) \n Oracle DataGuard \n DB2 HADR \n Sybase Replication Server \n MSSQL Always-On \n Cluster: \n Pacemaker-based cluster with Red Hat Enterprise Linux HA Add-On, or with SUSE Linux High Availability Extension|Single zone high availability deployment of SAP application and database is supported. Multiple/Clustered SAP application servers can be configured.|
High Availability Infrastructure       | Provide 99.95% availability for infrastructure        |Redundant LPARs in an [SAP Scale-out](https://cloud.ibm.com/docs/sap?topic=sap-refarch-hana-scaleout#network-layout-for-scale-out-configurations-2) deployment with VPC ALB solution on a single-zone can provide an application SLA of 99.95% | - Minimize cost, implementation and maintenance complexity, potential latency and maximize value with IBM solutions \n - “Different Server” placement group should be chosen to build high availability within the same data center \n  - PowerHA can also be implemented for cluster management if AIX is the operating system.|
Disaster Recovery for SAP on Linux/AIX | Disaster recovery capability in secondary region      | IBM Storage Protect                                                                                                                                                                                                                                | - IBM Storage Protect Plus provides near instant recovery and replication in hybrid multi-cloud environments \n - Support for databases Standard lead with offering (MSSQL, Oracle, HANA) \n  - Standard DR capability for RPO < 15 min, RTO < 4 hours is achievable \n - Veeam is an alternative for AIX as the operating system
| Disaster Recovery for SAP on AIX/IBM i | Disaster recovery capability in secondary region      | Global Replication Service (GRS)                                                                                                                                                                                                                   | \n [Global Replication Service-GRS](https://www.ibm.com/blog/announcement/introducing-global-replication-service-on-ibm-power-systems-virtual-server)  is based on Global Mirror Replication as a configurable option-- only available in WDC and DAL as of now, will be available in all PowerVS regions soon                                                                                                                                              |
| Disaster Recovery -- Cost Optimized    | HANA disaster recovery capability in secondary region | Implement Shared Processor Pool                                                                                                                                                                                                                    | Setup Shared processor Pool to reserve capacity in the secondary region. Setup DR systems on minimum sized VMs to save operating cost. This is a Power systems virtual servers special feature.                                                                                                                                       |
|                                        |                                                       |                                                                                                                                                                                                                                                    | Alternative: DR and Non-Production systems to share the same infrastructure.                                                                                                                                                                                                                                                          |
| Backup - Linux                         | Back up of NetWeaver and DB data                      | IBM Storage Protect                                                                                                                                                                                                                                | IBM Storage Protect is an SAP certified backup tool for SAP HANA and works with Backint.
|                                        |                                                       |                                                                                                                                                                                                                                                    | IBM Storage Protect Agent for all OS including AIX if the client currently has SW ELA licensing. IBM Storage Protect works seamlessly with native SAP backup tools; provides additional functionality like encryption of backed-up data data in transit; built-in deduplication compresses storage without additional dedupe hardware |
| Backup - AIX                           |                                                       | IBM Storage Protect                                                                                                                                                                                                                                | Alternative: Veeam is supported on AIX. However, if there is HANA/Linux in client's landscape, only one SAP certified backup tool should be used. Then IBM Storage Protect is recommended.                                                                                                                                            |
| Backup-AIX                             |                                                       | Veeam V12                                                                                                                                                                                                                                          | SAP HANA server itself, image-level and file-level backup functionality of Veeam Backup & Replication or Veeam Agent for Linux.
|                                        |                                                       |                                                                                                                                                                                                                                                    | Image and file level backups of SAP HANA servers do not guarantee transaction-consistency of database backups.                                                                                                                                                                                                                        |
| Backup -- IBM i                        |                                                       | FalconStor VTL                                                                                                                                                                                                                                     | Although SAP on IBM i/Power Systems Virtual Servers is not SAP certified, client may choose it if service provider supports.                                                                                                                                                                                                          |
| Backup -- other                        | Point in time copy of data volume                     | FlashCopy                                                                                                                                                                                                                                          | IBM Power Systems Virtual Servers offering                                                                                                                                                                                                                                                                                            |
{: caption="Table 1. Architecture decsions for resiliency" caption-side="bottom"}
